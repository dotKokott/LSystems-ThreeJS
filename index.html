<html>
  <body>

  </body>

  <script src="CanvasHelper.js">
  </script>

  <script>
    var base = "-F";

    var angleChange = Math.PI / 2;
    var length = 3;
    var iterations = 5;

    function replaceAll(find, replace, str) {
      return str.replace(new RegExp(find, 'g'), replace);
    }

    function init() {
      for(var i = 0; i < iterations; i++) {
        base = replaceAll("F", "F+F-F-F+F", base);
      }


    }

    function draw() {
      ctx.clearRect(0, 0, WIDTH, HEIGHT);
      var angle = Math.PI / -2;
      var currentPos = new Vector2((WIDTH / 2) + 350, HEIGHT / 2);

      for(var i = 0; i < base.length; i++) {
        if(base[i] == 'F') {
          var vec = new Vector2(Math.cos(angle) * length, Math.sin(angle) * length);
          var newPos = currentPos.Added(vec);
          drawLine(currentPos, newPos);
          currentPos = newPos;
        }

        if(base[i] == '+') {
          angle += angleChange;
        }

        if(base[i] == '-') {
          angle -= angleChange;
        }

      }
    }

    function update(dt) {

      draw();

    }

    var dt;
    var totalSeconds;

    (function (window) {
      var start = new Date();
      var last = new Date();

      init();

      function tick() {
        var now = new Date();
        dt = (now - last) / 1000;
        totalSeconds = (now - start) / 1000;
        last = now;

        update(dt);
      }

      window.setInterval(tick, 1000 / 60);
    } (window));

  </script>

</html>
